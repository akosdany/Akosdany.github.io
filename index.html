<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<title>AK ‚Ä¢ –ö–æ–Ω—Ç–∞–∫—Ç</title>
<link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üîó</text></svg>">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#000000">
<meta name="description" content="–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è AK">

<style>
  /* ========= OPTIMIZED VARIABLES ========= */
  :root {
    --ios-bg: #000000;
    --ios-card: rgba(28, 28, 30, 0.92);
    --ios-card-light: rgba(242, 242, 247, 0.96);
    --ios-elevated: rgba(44, 44, 46, 0.78);
    --ios-elevated-light: rgba(255, 255, 255, 0.92);
    --ios-text: #FFFFFF;
    --ios-text-secondary: #8E8E93;
    --ios-text-dark: #1D1D1F;
    --ios-border: rgba(255, 255, 255, 0.18);
    --ios-border-light: rgba(0, 0, 0, 0.14);
    --ios-highlight: rgba(255, 255, 255, 0.12);
    --ios-gray-2: #2C2C2E;
    --ios-gray-3: #3A3A3C;
    
    --font-sf: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", sans-serif;
    --ios-radius-large: 28px;
    --ios-transition: all 0.45s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ios-timing: cubic-bezier(0.4, 0.0, 0.2, 1);
    
    --ios-shadow-card: 0 20px 80px rgba(0, 0, 0, 0.75);
    --ios-shadow-light: 0 20px 80px rgba(0, 0, 0, 0.12);
    --ios-inset: inset 0 1px 0 rgba(255, 255, 255, 0.12);
    --ios-glow: 0 0 50px rgba(255, 255, 255, 0.06);
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    user-select: none;
  }

  html, body {
    width: 100%;
    height: 100%;
    overflow: hidden;
    font-family: var(--font-sf);
    background: var(--ios-bg);
    color: var(--ios-text);
    -webkit-font-smoothing: antialiased;
    display: flex;
    justify-content: center;
    align-items: center;
    overscroll-behavior: none;
    position: fixed;
    perspective: 1000px;
    transform-style: preserve-3d;
  }

  /* ========= LIVE CARD CONTAINER ========= */
  .live-card-container {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    transform-style: preserve-3d;
    transition: transform 0.1s linear;
  }

  /* ========= DYNAMIC BACKGROUND ========= */
  .ios-background {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: -3;
    background: 
      radial-gradient(ellipse at 20% 30%, rgba(255, 255, 255, 0.035) 0%, transparent 45%),
      radial-gradient(ellipse at 80% 70%, rgba(255, 255, 255, 0.025) 0%, transparent 45%),
      var(--ios-bg);
    transition: transform 0.3s ease-out;
  }

  /* ========= PARTICLE ANIMATIONS ========= */
  .particles-container {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: -2;
    overflow: hidden;
    transform-style: preserve-3d;
  }

  @keyframes particleMove {
    0% {
      transform: translate3d(0, 0, 0) scale(1);
      opacity: 0;
    }
    10% {
      opacity: var(--opacity);
    }
    90% {
      opacity: 0.15;
    }
    100% {
      transform: translate3d(calc(var(--move-x) * 1vw), calc(var(--move-y) * -1vh), 0) scale(1.3);
      opacity: 0;
    }
  }

  /* ========= LIVE CARD (3D ENABLED) ========= */
  .ios-card {
    position: relative;
    width: 87%;
    max-width: 400px;
    backdrop-filter: saturate(180%) blur(40px);
    -webkit-backdrop-filter: saturate(180%) blur(40px);
    background: var(--ios-card);
    border: 1px solid var(--ios-border);
    border-radius: var(--ios-radius-large);
    padding: 44px 30px 36px;
    box-shadow: var(--ios-shadow-card), var(--ios-inset), var(--ios-glow);
    animation: cardAppear 1s var(--ios-timing) forwards;
    opacity: 0;
    transform: translate3d(0, 40px, 0) scale(0.96);
    overflow: hidden;
    transform-style: preserve-3d;
    transition: 
      transform 0.6s cubic-bezier(0.23, 1, 0.32, 1),
      box-shadow 0.6s ease;
  }

  /* Live Photo —ç—Ñ—Ñ–µ–∫—Ç - –ø–ª–∞–≤–∞—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
  .ios-card.live-mode {
    animation: 
      cardAppear 1s var(--ios-timing) forwards,
      liveFloat 8s ease-in-out infinite 1s;
  }

  @keyframes cardAppear {
    100% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
    }
  }

  @keyframes liveFloat {
    0%, 100% {
      transform: translate3d(0, 0, 0);
    }
    25% {
      transform: translate3d(0, -5px, 0) rotate(0.2deg);
    }
    50% {
      transform: translate3d(0, 0, 0) rotate(-0.1deg);
    }
    75% {
      transform: translate3d(0, -3px, 0) rotate(0.1deg);
    }
  }

  /* ========= AVATAR WITH DEPTH EFFECT ========= */
  .ios-avatar-container {
    position: relative;
    width: 124px;
    height: 124px;
    margin: 0 auto 36px;
    animation: avatarAppear 0.8s var(--ios-timing) 0.2s forwards;
    opacity: 0;
    transform: translate3d(0, 20px, 0) scale(0.9);
    transform-style: preserve-3d;
  }

  .ios-avatar {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid rgba(255, 255, 255, 0.22);
    box-shadow: 
      0 15px 50px rgba(0, 0, 0, 0.55),
      inset 0 1px 0 rgba(255, 255, 255, 0.18);
    animation: avatarGlow 4s ease-in-out infinite;
    transform: translateZ(20px);
    transition: transform 0.5s cubic-bezier(0.23, 1, 0.32, 1);
  }

  .ios-card:hover .ios-avatar {
    transform: translateZ(30px) scale(1.02);
  }

  @keyframes avatarAppear {
    100% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale(1);
    }
  }

  @keyframes avatarGlow {
    0%, 100% {
      box-shadow: 
        0 15px 50px rgba(0, 0, 0, 0.55),
        inset 0 1px 0 rgba(255, 255, 255, 0.18);
    }
    50% {
      box-shadow: 
        0 15px 60px rgba(0, 0, 0, 0.75),
        inset 0 1px 0 rgba(255, 255, 255, 0.25);
    }
  }

  /* ========= TYPOGRAPHY WITH DEPTH ========= */
  .ios-title {
    font-size: 52px;
    font-weight: 700;
    letter-spacing: -0.5px;
    color: var(--ios-text);
    margin-bottom: 6px;
    text-align: center;
    animation: titleAppear 0.8s var(--ios-timing) 0.4s forwards;
    opacity: 0;
    transform: translate3d(0, 15px, 0);
    text-shadow: 0 2px 12px rgba(0, 0, 0, 0.35);
    transform: translateZ(10px);
  }

  .ios-subtitle {
    font-size: 19px;
    font-weight: 500;
    color: var(--ios-text-secondary);
    margin-bottom: 44px;
    text-align: center;
    letter-spacing: 0.5px;
    position: relative;
    animation: subtitleAppear 0.8s var(--ios-timing) 0.6s forwards;
    opacity: 0;
    transform: translate3d(0, 15px, 0);
    transform: translateZ(5px);
  }

  .ios-subtitle::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 50%;
    transform: translateX(-50%);
    width: 42px;
    height: 2px;
    background: rgba(255, 255, 255, 0.35);
    border-radius: 1px;
    animation: lineExtend 0.8s var(--ios-timing) 1s forwards;
    transform-origin: left;
    transform: translateX(-50%) scaleX(0);
  }

  @keyframes titleAppear {
    100% { opacity: 1; transform: translate3d(0, 0, 0); }
  }

  @keyframes subtitleAppear {
    100% { opacity: 1; transform: translate3d(0, 0, 0); }
  }

  @keyframes lineExtend {
    100% { transform: translateX(-50%) scaleX(1); }
  }

  /* ========= 3D ACTION BUTTONS ========= */
  .ios-actions {
    display: flex;
    flex-direction: column;
    gap: 16px;
    transform-style: preserve-3d;
  }

  .ios-action {
    display: flex;
    align-items: center;
    text-decoration: none;
    color: var(--ios-text);
    background: var(--ios-elevated);
    border: 1px solid var(--ios-border);
    border-radius: 16px;
    padding: 18px 24px;
    font-size: 18px;
    font-weight: 500;
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    opacity: 0;
    transform: translate3d(0, 20px, 0);
    animation: actionSlide 0.6s var(--ios-timing) forwards;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0.12);
    box-shadow: 
      0 5px 25px rgba(0, 0, 0, 0.25),
      0 0 0 1px rgba(255, 255, 255, 0.05);
    transform: translateZ(15px);
  }

  .ios-action:nth-child(1) { animation-delay: 0.8s; }
  .ios-action:nth-child(2) { animation-delay: 0.9s; }
  .ios-action:nth-child(3) { animation-delay: 1.0s; }
  .ios-action:nth-child(4) { animation-delay: 1.1s; }

  @keyframes actionSlide {
    100% { opacity: 1; transform: translate3d(0, 0, 0); }
  }

  .ios-action:hover {
    transform: translateZ(20px) translateY(-2px);
    box-shadow: 
      0 10px 40px rgba(0, 0, 0, 0.35),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }

  .ios-action:active {
    background: rgba(60, 60, 67, 0.85);
    transform: translateZ(15px) translateY(0) scale(0.98);
    transition: all 0.1s;
  }

  .ios-action-icon {
    width: 30px;
    height: 30px;
    margin-right: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    opacity: 0.92;
    flex-shrink: 0;
    transition: transform 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.25));
    transform: translateZ(5px);
  }

  .ios-action:hover .ios-action-icon {
    transform: translateZ(10px) scale(1.1);
  }

  .ios-action-text {
    flex-grow: 1;
    letter-spacing: 0.2px;
    transform: translateZ(2px);
  }

  .ios-action-arrow {
    opacity: 0.55;
    font-size: 18px;
    transition: transform 0.3s var(--ios-timing);
    transform: translateZ(3px);
  }

  .ios-action:hover .ios-action-arrow {
    opacity: 0.85;
    transform: translateZ(5px) translateX(4px);
  }

  /* ========= LIVING STATUS INDICATOR ========= */
  .status-indicator {
    position: absolute;
    bottom: -2px;
    right: -2px;
    width: 18px;
    height: 18px;
    background: rgba(255, 255, 255, 0.95);
    border-radius: 50%;
    border: 3px solid var(--ios-gray-2);
    animation: statusPulse 2.5s ease-in-out infinite;
    box-shadow: 
      0 0 15px rgba(255, 255, 255, 0.35),
      0 0 0 2px rgba(255, 255, 255, 0.1);
    z-index: 2;
    transform: translateZ(25px);
  }

  @keyframes statusPulse {
    0%, 100% { 
      transform: translateZ(25px) scale(1);
      opacity: 1;
      box-shadow: 
        0 0 15px rgba(255, 255, 255, 0.35),
        0 0 0 2px rgba(255, 255, 255, 0.1);
    }
    50% { 
      transform: translateZ(30px) scale(1.25);
      opacity: 0.9;
      box-shadow: 
        0 0 25px rgba(255, 255, 255, 0.5),
        0 0 0 3px rgba(255, 255, 255, 0.2);
    }
  }

  /* ========= LIVE PHOTO BADGE ========= */
  .live-badge {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(0, 0, 0, 0.3);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border-radius: 12px;
    padding: 6px 12px;
    font-size: 12px;
    font-weight: 600;
    color: #fff;
    display: flex;
    align-items: center;
    gap: 6px;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    border: 1px solid rgba(255, 255, 255, 0.1);
    transform: translateZ(10px);
  }

  .live-badge::before {
    content: '';
    width: 8px;
    height: 8px;
    background: #FF453A;
    border-radius: 50%;
    animation: livePulse 1.5s infinite;
  }

  @keyframes livePulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.2); }
  }

  .ios-card:hover .live-badge {
    opacity: 1;
    transform: translateY(0);
  }

  /* ========= LIGHT MODE ========= */
  @media (prefers-color-scheme: light) {
    .ios-card {
      background: var(--ios-card-light);
      border: 1px solid var(--ios-border-light);
      box-shadow: var(--ios-shadow-light), inset 0 1px 0 rgba(255, 255, 255, 0.85), 0 0 50px rgba(0, 0, 0, 0.06);
    }
    
    .ios-action {
      background: var(--ios-elevated-light);
      border: 1px solid var(--ios-border-light);
      color: var(--ios-text-dark);
      box-shadow: 
        0 5px 25px rgba(0, 0, 0, 0.1),
        0 0 0 1px rgba(0, 0, 0, 0.05);
    }
    
    .ios-action:hover {
      box-shadow: 
        0 10px 40px rgba(0, 0, 0, 0.15),
        0 0 0 1px rgba(0, 0, 0, 0.1);
    }
    
    .ios-action:active {
      background: rgba(230, 230, 235, 0.95);
    }
    
    .ios-avatar {
      border: 3px solid rgba(0, 0, 0, 0.18);
      box-shadow: 
        0 15px 50px rgba(0, 0, 0, 0.18),
        inset 0 1px 0 rgba(255, 255, 255, 0.85);
    }
    
    .status-indicator {
      background: rgba(0, 0, 0, 0.85);
      border-color: var(--ios-elevated-light);
      box-shadow: 
        0 0 15px rgba(0, 0, 0, 0.2),
        0 0 0 2px rgba(0, 0, 0, 0.05);
    }
    
    .live-badge {
      background: rgba(255, 255, 255, 0.9);
      color: #1D1D1F;
      border: 1px solid rgba(0, 0, 0, 0.1);
    }
    
    .live-badge::before {
      background: #FF453A;
    }
  }

  /* ========= RESPONSIVE ========= */
  @media (max-width: 380px) {
    .ios-card {
      padding: 40px 24px 32px;
      border-radius: 24px;
    }
    
    .ios-avatar-container {
      width: 116px;
      height: 116px;
      margin-bottom: 32px;
    }
    
    .ios-title {
      font-size: 48px;
    }
    
    .ios-subtitle {
      font-size: 18px;
      margin-bottom: 40px;
    }
    
    .ios-action {
      padding: 17px 22px;
      font-size: 17px;
    }
    
    .live-badge {
      top: 16px;
      right: 16px;
      padding: 4px 10px;
      font-size: 11px;
    }
  }

  /* ========= REDUCED MOTION ========= */
  @media (prefers-reduced-motion: reduce) {
    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
    
    .ios-card.live-mode {
      animation: cardAppear 1s var(--ios-timing) forwards;
    }
  }
</style>
</head>

<body>
  <div class="ios-background" id="dynamic-bg"></div>
  <div class="particles-container" id="particles"></div>

  <div class="live-card-container" id="card-container">
    <div class="ios-card live-mode" id="main-card">
      <div class="live-badge">LIVE</div>
      
      <div class="ios-avatar-container">
        <img src="avatar.png" alt="AK" class="ios-avatar" 
             onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';"
             loading="eager" decoding="async" width="124" height="124">
        <div class="ios-avatar-placeholder" style="display: none; animation: inherit; background: linear-gradient(135deg, var(--ios-gray-2), var(--ios-gray-3)); color: rgba(255, 255, 255, 0.5); font-size: 32px; align-items: center; justify-content: center; border-radius: 50%; border: 3px solid rgba(255, 255, 255, 0.22);">AK</div>
        <div class="status-indicator"></div>
      </div>
      
      <h1 class="ios-title">AK</h1>
      <div style="text-align: center; margin-bottom: 44px;">
        <p class="ios-subtitle">digital / real life</p>
      </div>
      
      <div class="ios-actions">
        <a href="https://t.me/ak_os" class="ios-action" target="_blank" rel="noopener noreferrer" aria-label="Telegram">
          <span class="ios-action-icon">‚úâÔ∏è</span>
          <span class="ios-action-text">Telegram</span>
          <span class="ios-action-arrow">‚Üí</span>
        </a>
        
        <a href="mailto:ak.os@mail.ru" class="ios-action" aria-label="Email">
          <span class="ios-action-icon">üìÆ</span>
          <span class="ios-action-text">Email</span>
          <span class="ios-action-arrow">‚Üí</span>
        </a>
        
        <a href="https://instagram.com/ak_os" class="ios-action" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
          <span class="ios-action-icon">üì∏</span>
          <span class="ios-action-text">Instagram</span>
          <span class="ios-action-arrow">‚Üí</span>
        </a>
        
        <a href="contact.vcf" class="ios-action" download="AK.vcf" aria-label="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç">
          <span class="ios-action-icon">‚¨áÔ∏è</span>
          <span class="ios-action-text">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç</span>
          <span class="ios-action-arrow">‚Üí</span>
        </a>
      </div>
    </div>
  </div>

  <script>
    // ========= LIVE PHOTO GYROSCOPE EFFECT =========
    (function initLivePhotoEffect() {
      const card = document.getElementById('main-card');
      const container = document.getElementById('card-container');
      const bg = document.getElementById('dynamic-bg');
      let isGyroActive = false;
      let lastX = 0, lastY = 0;
      let currentX = 0, currentY = 0;
      const sensitivity = 0.15; // –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–∏—Ä–æ—Å–∫–æ–ø–∞
      const smoothing = 0.3;    // –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏–π
      
      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥–∏—Ä–æ—Å–∫–æ–ø–∞
      if (window.DeviceOrientationEvent) {
        window.addEventListener('deviceorientation', handleDeviceOrientation);
        isGyroActive = true;
        console.log('üì± –ì–∏—Ä–æ—Å–∫–æ–ø –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω - –∫–∞—Ä—Ç–æ—á–∫–∞ –∂–∏–≤–∞—è!');
      } else {
        console.log('‚ö†Ô∏è –ì–∏—Ä–æ—Å–∫–æ–ø –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º—ã—à—å/—Ç–∞—á');
        initMouseParallax();
      }
      
      function handleDeviceOrientation(event) {
        // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å –≥–∏—Ä–æ—Å–∫–æ–ø–∞
        const beta = event.beta || 0;   // –ù–∞–∫–ª–æ–Ω –≤–ø–µ—Ä–µ–¥/–Ω–∞–∑–∞–¥ (-180 to 180)
        const gamma = event.gamma || 0; // –ù–∞–∫–ª–æ–Ω –≤–ª–µ–≤–æ/–≤–ø—Ä–∞–≤–æ (-90 to 90)
        
        // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —É–≥–ª—ã –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
        const targetX = Math.max(Math.min(gamma, 15), -15);
        const targetY = Math.max(Math.min(beta, 15), -15);
        
        // –°–≥–ª–∞–∂–∏–≤–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏—è
        currentX += (targetX - currentX) * smoothing;
        currentY += (targetY - currentY) * smoothing;
        
        // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –∫ –∫–∞—Ä—Ç–æ—á–∫–µ
        const rotateY = currentX * sensitivity;
        const rotateX = currentY * -sensitivity;
        
        card.style.transform = `
          translate3d(0, 0, 0)
          rotateX(${rotateX}deg)
          rotateY(${rotateY}deg)
        `;
        
        // –ü–∞—Ä–∞–ª–ª–∞–∫—Å –¥–ª—è —Ñ–æ–Ω–∞
        bg.style.transform = `
          translate3d(${rotateY * 0.5}%, ${rotateX * 0.5}%, 0)
        `;
        
        // –õ–µ–≥–∫–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –≥–ª—É–±–∏–Ω—ã
        container.style.transform = `
          perspective(1000px)
          rotateX(${rotateX * 0.2}deg)
          rotateY(${rotateY * 0.2}deg)
        `;
      }
      
      function initMouseParallax() {
        let mouseX = 0, mouseY = 0;
        let targetX = 0, targetY = 0;
        
        document.addEventListener('mousemove', (e) => {
          mouseX = (e.clientX / window.innerWidth) - 0.5;
          mouseY = (e.clientY / window.innerHeight) - 0.5;
        });
        
        document.addEventListener('touchmove', (e) => {
          if (e.touches.length > 0) {
            mouseX = (e.touches[0].clientX / window.innerWidth) - 0.5;
            mouseY = (e.touches[0].clientY / window.innerHeight) - 0.5;
          }
        }, { passive: true });
        
        function updateParallax() {
          targetX += (mouseX * 20 - targetX) * 0.1;
          targetY += (mouseY * 20 - targetY) * 0.1;
          
          card.style.transform = `
            translate3d(0, 0, 0)
            rotateX(${targetY * 0.1}deg)
            rotateY(${targetX * 0.1}deg)
          `;
          
          bg.style.transform = `
            translate3d(${targetX * 0.3}%, ${targetY * 0.3}%, 0)
          `;
          
          requestAnimationFrame(updateParallax);
        }
        
        updateParallax();
      }
      
      // –î–æ–±–∞–≤–ª—è–µ–º –≤–∏–±—Ä–∞—Ü–∏—é –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
      if ('vibrate' in navigator) {
        let hasVibrated = false;
        const originalHandler = handleDeviceOrientation;
        handleDeviceOrientation = function(event) {
          originalHandler(event);
          if (!hasVibrated && (Math.abs(event.gamma) > 5 || Math.abs(event.beta) > 5)) {
            navigator.vibrate(10);
            hasVibrated = true;
          }
        };
      }
      
      // –ê–≤—Ç–æ—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –±–µ–∑–¥–µ–π—Å—Ç–≤–∏–∏
      let idleTimer;
      function resetToCenter() {
        currentX += (0 - currentX) * 0.05;
        currentY += (0 - currentY) * 0.05;
        
        card.style.transform = `
          translate3d(0, 0, 0)
          rotateX(${currentY * -sensitivity}deg)
          rotateY(${currentX * sensitivity}deg)
        `;
        
        if (Math.abs(currentX) > 0.1 || Math.abs(currentY) > 0.1) {
          requestAnimationFrame(resetToCenter);
        }
      }
      
      // –°–±—Ä–æ—Å –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
      window.addEventListener('orientationchange', () => {
        setTimeout(() => {
          currentX = 0;
          currentY = 0;
          card.style.transform = 'translate3d(0, 0, 0)';
          bg.style.transform = 'translate3d(0, 0, 0)';
          container.style.transform = 'perspective(1000px)';
          
          setTimeout(() => {
            if (isGyroActive) {
              card.classList.add('live-mode');
            }
          }, 300);
        }, 200);
      });
    })();
    
    // ========= OPTIMIZED PARTICLE SYSTEM =========
    (function initParticles() {
      const container = document.getElementById('particles');
      const isMobile = window.innerWidth < 768;
      const particleCount = isMobile ? 15 : 25;
      
      const fragment = document.createDocumentFragment();
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        const size = Math.random() * 4 + 2;
        const duration = Math.random() * 25 + 20;
        const delay = Math.random() * 10;
        const moveX = Math.random() * 200 - 100;
        const moveY = Math.random() * 100 + 50;
        const opacity = Math.random() * 0.2 + 0.1;
        
        particle.style.cssText = `
          width: ${size}px;
          height: ${size}px;
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 100}%;
          opacity: ${opacity};
          animation: particleMove ${duration}s linear ${delay}s infinite;
          --move-x: ${moveX};
          --move-y: ${moveY};
          --opacity: ${opacity};
        `;
        
        fragment.appendChild(particle);
      }
      
      container.appendChild(fragment);
    })();
    
    // ========= TOUCH HANDLING =========
    (function initTouchHandlers() {
      const actions = document.querySelectorAll('.ios-action');
      
      actions.forEach(action => {
        action.addEventListener('touchstart', function(e) {
          const rect = this.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.touches[0].clientX - rect.left - size / 2;
          const y = e.touches[0].clientY - rect.top - size / 2;
          
          const ripple = document.createElement('span');
          ripple.style.cssText = `
            position: absolute;
            width: ${size}px;
            height: ${size}px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.25);
            left: ${x}px;
            top: ${y}px;
            transform: scale(0);
            animation: rippleExpand 0.5s ease-out;
            pointer-events: none;
          `;
          
          this.appendChild(ripple);
          
          setTimeout(() => {
            if (ripple.parentNode === this) {
              this.removeChild(ripple);
            }
          }, 500);
        }, { passive: true });
      });
      
      const style = document.createElement('style');
      style.textContent = `
        @keyframes rippleExpand {
          to {
            transform: scale(1.5);
            opacity: 0;
          }
        }
      `;
      document.head.appendChild(style);
    })();
    
    // ========= IMAGE OPTIMIZATION =========
    (function optimizeImage() {
      const avatar = document.querySelector('.ios-avatar');
      if (!avatar) return;
      
      if (avatar.complete && avatar.naturalHeight !== 0) {
        avatar.style.opacity = '1';
        return;
      }
      
      avatar.addEventListener('load', () => {
        avatar.style.opacity = '1';
      });
      
      avatar.addEventListener('error', () => {
        const placeholder = document.querySelector('.ios-avatar-placeholder');
        if (placeholder) {
          placeholder.style.display = 'flex';
        }
      });
    })();
    
    // ========= INITIALIZATION =========
    document.addEventListener('DOMContentLoaded', () => {
      initParticles();
      initTouchHandlers();
      optimizeImage();
    });
  </script>
</body>
</html>
